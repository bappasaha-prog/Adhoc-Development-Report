/* Formatted on 22-11-2021 15:50:16 (QP5 v5.294) */
DROP VIEW GINVIEW.CV_INTER_STK_TRANFER_HEADER;


CREATE OR REPLACE FORCE VIEW GINVIEW.CV_INTER_STK_TRANFER_HEADER
AS
   SELECT DISTINCT stfcode,
                   transfer_no,
                   transfer_date,
                   admsite_code,
                   NAME,
                   address || ', ' || city || ', ' || pincode ADDR
     FROM GINVIEW.LV_INTER_STK_TRANFER h, ginview.lv_site s
    WHERE h.admsite_code = s.sitecode                   --AND stfcode = 101082

-----------------------------------

DROP VIEW GINVIEW.CV_INTER_STK_TRANSFER_MATRIX;

/* Formatted on 22-11-2021 11:37:31 (QP5 v5.294) */
CREATE OR REPLACE FORCE VIEW GINVIEW.CV_INTER_STK_TRANSFER_MATRIX
(
   UK,
   ADMOU_CODE,
   ADMOU_CODE_IN,
   ADMSITE_CODE,
   CREATED_BY,
   CREATION_TIME,
   DOCUMENT_CODE,
   DOCUMENT_DATE,
   DOCUMENT_NO,
   E_WAY_BILL_GENERATED_ON,
   E_WAY_BILL_NO,
   E_WAY_BILL_VALID_UPTO,
   GATE_ENTRY_NO,
   ICODE,
   INLGTCODE,
   INLOCCODE,
   INTER_STOCKPOINT_TRANSFER,
   INVSTFMAIN_UDFDATE01,
   INVSTFMAIN_UDFDATE02,
   INVSTFMAIN_UDFDATE03,
   INVSTFMAIN_UDFDATE04,
   INVSTFMAIN_UDFDATE05,
   INVSTFMAIN_UDFNUM01,
   INVSTFMAIN_UDFNUM02,
   INVSTFMAIN_UDFNUM03,
   INVSTFMAIN_UDFNUM04,
   INVSTFMAIN_UDFNUM05,
   INVSTFMAIN_UDFSTRING01,
   INVSTFMAIN_UDFSTRING02,
   INVSTFMAIN_UDFSTRING03,
   INVSTFMAIN_UDFSTRING04,
   INVSTFMAIN_UDFSTRING05,
   INVSTFMAIN_UDFSTRING06,
   INVSTFMAIN_UDFSTRING07,
   INVSTFMAIN_UDFSTRING08,
   INVSTFMAIN_UDFSTRING09,
   INVSTFMAIN_UDFSTRING10,
   IN_LOGISTIC_DATE,
   IN_LOGISTIC_DECLARED_AMOUNT,
   IN_LOGISTIC_DOCUMENT_DATE,
   IN_LOGISTIC_DOCUMENT_NO,
   IN_LOGISTIC_NO,
   IN_LOGISTIC_STATION_FROM,
   IN_LOGISTIC_STATION_TO,
   IN_LOGISTIC_TRANSPORTER,
   IN_STOCKPOINT_JOBBER_CODE,
   IN_STOCKPOINT_NAME,
   IN_STOCKPOINT_ADD,
   IN_STOCKPOINT_TYPE,
   ITEM_REMARKS,
   LAST_MODIFIED_BY,
   LAST_MODIFIED_ON,
   OUTLGTCODE,
   OUTLOCCODE,
   OUT_LOGISTIC_DATE,
   OUT_LOGISTIC_DECLARED_AMOUNT,
   OUT_LOGISTIC_DOCUMENT_DATE,
   OUT_LOGISTIC_DOCUMENT_NO,
   OUT_LOGISTIC_NO,
   OUT_LOGISTIC_STATION_FROM,
   OUT_LOGISTIC_STATION_TO,
   OUT_LOGISTIC_TRANSPORTER,
   OUT_STOCKPOINT_JOBBER_CODE,
   OUT_STOCKPOINT_NAME,
   OUT_STOCKPOINT_ADD,
   OUT_STOCKPOINT_TYPE,
   OWNER_SITE,
   PRICE_FACTOR,
   PRICE_TYPE,
   QUANTITY,
   REMARKS,
   SLCODE,
   SLNAME,
   STFAMT,
   STFCODE,
   STFRATE,
   STOCK_TRANSFER_TYPE,
   TRANSFER_DATE,
   TRANSFER_NO,
   YEAR_NAME,
   ITEM,
   RATE,
   RSP,
   ITEM_SIZE
)
   BEQUEATH DEFINER
AS
   SELECT ginview.fnc_uk   uk,
          det.ADMOU_CODE,
          ADMOU_CODE_IN,
          det.ADMSITE_CODE,
          CREATED_BY,
          CREATION_TIME,
          DOCUMENT_CODE,
          DOCUMENT_DATE,
          DOCUMENT_NO,
          E_WAY_BILL_GENERATED_ON,
          E_WAY_BILL_NO,
          E_WAY_BILL_VALID_UPTO,
          GATE_ENTRY_NO,
          ICODE,
          INLGTCODE,
          INLOCCODE,
          INTER_STOCKPOINT_TRANSFER,
          INVSTFMAIN_UDFDATE01,
          INVSTFMAIN_UDFDATE02,
          INVSTFMAIN_UDFDATE03,
          INVSTFMAIN_UDFDATE04,
          INVSTFMAIN_UDFDATE05,
          INVSTFMAIN_UDFNUM01,
          INVSTFMAIN_UDFNUM02,
          INVSTFMAIN_UDFNUM03,
          INVSTFMAIN_UDFNUM04,
          INVSTFMAIN_UDFNUM05,
          INVSTFMAIN_UDFSTRING01,
          INVSTFMAIN_UDFSTRING02,
          INVSTFMAIN_UDFSTRING03,
          INVSTFMAIN_UDFSTRING04,
          INVSTFMAIN_UDFSTRING05,
          INVSTFMAIN_UDFSTRING06,
          INVSTFMAIN_UDFSTRING07,
          INVSTFMAIN_UDFSTRING08,
          INVSTFMAIN_UDFSTRING09,
          INVSTFMAIN_UDFSTRING10,
          IN_LOGISTIC_DATE,
          IN_LOGISTIC_DECLARED_AMOUNT,
          IN_LOGISTIC_DOCUMENT_DATE,
          IN_LOGISTIC_DOCUMENT_NO,
          IN_LOGISTIC_NO,
          IN_LOGISTIC_STATION_FROM,
          IN_LOGISTIC_STATION_TO,
          IN_LOGISTIC_TRANSPORTER,
          IN_STOCKPOINT_JOBBER_CODE,
          IN_STOCKPOINT_NAME,
          iloc.ADDR || ' ' || iloc.CTNAME || ' ' || iloc.PIN
             IN_STOCKPOINT_ADD,
          IN_STOCKPOINT_TYPE,
          ITEM_REMARKS,
          LAST_MODIFIED_BY,
          det.LAST_MODIFIED_ON,
          OUTLGTCODE,
          OUTLOCCODE,
          OUT_LOGISTIC_DATE,
          OUT_LOGISTIC_DECLARED_AMOUNT,
          OUT_LOGISTIC_DOCUMENT_DATE,
          OUT_LOGISTIC_DOCUMENT_NO,
          OUT_LOGISTIC_NO,
          OUT_LOGISTIC_STATION_FROM,
          OUT_LOGISTIC_STATION_TO,
          OUT_LOGISTIC_TRANSPORTER,
          OUT_STOCKPOINT_JOBBER_CODE,
          OUT_STOCKPOINT_NAME,
          oloc.ADDR || ' ' || oloc.CTNAME || ' ' || oloc.PIN
             OUT_STOCKPOINT_ADD,
          OUT_STOCKPOINT_TYPE,
          OWNER_SITE,
          det.PRICE_FACTOR,
          PRICE_TYPE,
          QUANTITY,
          det.REMARKS,
          SLCODE,
          SLNAME,
          STFAMT,
          STFCODE,
          STFRATE,
          STOCK_TRANSFER_TYPE,
          TRANSFER_DATE,
          TRANSFER_NO,
          YEAR_NAME,
             category1
          || ' '
          || category2
          || ' '
          || category3
          || ' '
          || category4
          || ' '
          || category6
             item,
          last_inward_rate rate,
          RSP,
          TRIM (category5) item_size
     FROM GINVIEW.LV_INTER_STK_TRANFER det,
          ginview.lv_item              it,
          invloc                       iloc,
          invloc                       oloc
    WHERE     det.ICODE = it.CODE
          AND det.INLOCCODE = iloc.LOCCODE
          AND det.OUTLOCCODE = oloc.LOCCODE
--          AND stfcode = 99992
;
